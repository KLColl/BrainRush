# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¢–µ—Å—Ç—ñ–≤ BrainRush

## –û–≥–ª—è–¥

–ü—Ä–æ—î–∫—Ç BrainRush –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **pytest** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º **76%**. –¢–µ—Å—Ç–∏ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω—ñ —É –∫—ñ–ª—å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¢–µ—Å—Ç—ñ–≤

```
tests/
‚îú‚îÄ‚îÄ conftest.py              # Fixtures —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è pytest
‚îú‚îÄ‚îÄ test_auth.py             # –¢–µ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ test_models.py           # Unit —Ç–µ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π –ë–î
‚îú‚îÄ‚îÄ test_api_user.py         # API —Ç–µ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îú‚îÄ‚îÄ test_api_shop.py         # API —Ç–µ—Å—Ç–∏ –º–∞–≥–∞–∑–∏–Ω—É
‚îú‚îÄ‚îÄ test_api_feedback.py     # API —Ç–µ—Å—Ç–∏ –≤—ñ–¥–≥—É–∫—ñ–≤
‚îî‚îÄ‚îÄ test_integration.py      # Integration —Ç–µ—Å—Ç–∏
```

---

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (conftest.py)

### –û—Å–Ω–æ–≤–Ω—ñ Fixtures

#### `app`
–°—Ç–≤–æ—Ä—é—î —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–π —Ç–µ—Å—Ç–æ–≤–∏–π Flask –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑ —Ç–∏–º—á–∞—Å–æ–≤–æ—é –ë–î.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```python
def test_example(app):
    with app.app_context():
        # –í–∞—à –∫–æ–¥ —Ç—É—Ç
```

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î —Ç–∞ –≤–∏–¥–∞–ª—è—î —Ç–∏–º—á–∞—Å–æ–≤—É –ë–î
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ
- –ó–∞–±–µ–∑–ø–µ—á—É—î —ñ–∑–æ–ª—è—Ü—ñ—é –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏

#### `client`
–¢–µ—Å—Ç–æ–≤–∏–π HTTP –∫–ª—ñ—î–Ω—Ç –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
def test_homepage(client):
    response = client.get('/')
    assert response.status_code == 200
```

#### `test_user`
–°—Ç–≤–æ—Ä—é—î —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –±–∞–∑–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```python
{
    "id": 1,
    "username": "testuser",
    "password": "password123"  # –ù–µ–∑–∞—Ö–µ—à–æ–≤–∞–Ω–∏–π –¥–ª—è –ª–æ–≥—ñ–Ω—É
}
```

#### `authenticated_client`
–ö–ª—ñ—î–Ω—Ç –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```python
def test_protected_route(authenticated_client):
    response = authenticated_client.get('/profile')
    assert response.status_code == 200
```

#### `admin_user`
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

#### `rich_user`
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑ 1000 –º–æ–Ω–µ—Ç–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ–∫—É–ø–æ–∫.

#### `sample_game_results`
–ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —ñ–≥–æ—Ä –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

#### `sample_feedback`
–¢–µ—Å—Ç–æ–≤–∏–π –≤—ñ–¥–≥—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

---

## üîê –¢–µ—Å—Ç–∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (test_auth.py)

### TestRegistrationValidation

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.

#### –í–∞–ª—ñ–¥–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:

**test_valid_username_letters_only**
```python
# –¢–µ—Å—Ç—É—î: username —Ç—ñ–ª—å–∫–∏ –∑ –±—É–∫–≤
# –ü—Ä–∏–∫–ª–∞–¥: "ValidUser"
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –£—Å–ø—ñ—Ö
```

**test_valid_username_with_numbers**
```python
# –¢–µ—Å—Ç—É—î: username –∑ –±—É–∫–≤–∞–º–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∞–º–∏
# –ü—Ä–∏–∫–ª–∞–¥–∏: "User123", "123User", "User123User"
# –ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≥–Ω—É—á–∫—ñ—Å—Ç—å –ø–æ–∑–∏—Ü—ñ—ó —Ü–∏—Ñ—Ä
```

**test_valid_username_only_numbers**
```python
# –¢–µ—Å—Ç—É—î: username —Ç—ñ–ª—å–∫–∏ –∑ —Ü–∏—Ñ—Ä
# –ü—Ä–∏–∫–ª–∞–¥: "123456"
# –ú–µ—Ç–∞: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —â–æ —Ü–∏—Ñ—Ä–∏ —Å–∞–º—ñ –ø–æ —Å–æ–±—ñ –≤–∞–ª—ñ–¥–Ω—ñ
```

**test_valid_username_minimum_length**
```python
# –¢–µ—Å—Ç—É—î: –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –¥–æ–≤–∂–∏–Ω—É (3 —Å–∏–º–≤–æ–ª–∏)
# –ü—Ä–∏–∫–ª–∞–¥–∏: "abc", "a23", "123"
# –ì—Ä–∞–Ω–∏—á–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: —Ä—ñ–≤–Ω–æ 3 —Å–∏–º–≤–æ–ª–∏
```

**test_valid_username_maximum_length**
```python
# –¢–µ—Å—Ç—É—î: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –¥–æ–≤–∂–∏–Ω—É (16 —Å–∏–º–≤–æ–ª—ñ–≤)
# –ü—Ä–∏–∫–ª–∞–¥–∏: "a"*16, "1"*16
# –ì—Ä–∞–Ω–∏—á–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: —Ä—ñ–≤–Ω–æ 16 —Å–∏–º–≤–æ–ª—ñ–≤
```

#### –ù–µ–≤–∞–ª—ñ–¥–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:

**test_invalid_username_too_short**
```python
# –¢–µ—Å—Ç—É—î: –º–µ–Ω—à–µ 3 —Å–∏–º–≤–æ–ª—ñ–≤
# –ü—Ä–∏–∫–ª–∞–¥–∏: "ab", "a", "12"
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
```

**test_invalid_username_too_long**
```python
# –¢–µ—Å—Ç—É—î: –±—ñ–ª—å—à–µ 16 —Å–∏–º–≤–æ–ª—ñ–≤
# –ü—Ä–∏–∫–ª–∞–¥: "a"*17
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
```

**test_invalid_username_special_chars**
```python
# –¢–µ—Å—Ç—É—î: —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏
# –ü—Ä–∏–∫–ª–∞–¥–∏: "user@123", "user_name", "user-123"
# –ú–µ—Ç–∞: –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —â–æ —Ç—ñ–ª—å–∫–∏ –±—É–∫–≤–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ
```

**test_invalid_username_spaces**
```python
# –¢–µ—Å—Ç—É—î: –ø—Ä–æ–±—ñ–ª–∏
# –ü—Ä–∏–∫–ª–∞–¥–∏: "user name", " user", "user "
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ü–æ–º–∏–ª–∫–∞ (–Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è strip())
```

### TestAuthRoutes

–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.

**test_register_success**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –£—Å–ø—ñ—à–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
# –ö—Ä–æ–∫–∏:
# 1. POST /auth/register –∑ –≤–∞–ª—ñ–¥–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ redirect –Ω–∞ –ª–æ–≥—ñ–Ω
# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É—Å–ø—ñ—Ö—É
```

**test_register_duplicate_username**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –ü–æ–≤—Ç–æ—Ä–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
# –ö—Ä–æ–∫–∏:
# 1. –†–µ—î—Å—Ç—Ä—É—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ A
# 2. –ù–∞–º–∞–≥–∞—î–º–æ—Å—å –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Ç–∏–º –∂–µ username
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ü–æ–º–∏–ª–∫–∞ "username already taken"
```

**test_register_duplicate_username_case_insensitive**
```python
# –°–∫–ª–∞–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π: –ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –¥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É
# –ö—Ä–æ–∫–∏:
# 1. –†–µ—î—Å—Ç—Ä—É—î–º–æ "TestUser"
# 2. –ù–∞–º–∞–≥–∞—î–º–æ—Å—å –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ "testuser"
# –ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø–æ—à—É–∫ username –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä–µ–≥—ñ—Å—Ç—Ä—É
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ü–æ–º–∏–ª–∫–∞ –¥—É–±–ª—é–≤–∞–Ω–Ω—è
```

**test_login_success**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –£—Å–ø—ñ—à–Ω–∏–π –ª–æ–≥—ñ–Ω
# –ü–µ—Ä–µ–¥—É–º–æ–≤–∞: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —ñ—Å–Ω—É—î (—á–µ—Ä–µ–∑ test_user fixture)
# –ö—Ä–æ–∫–∏:
# 1. POST /auth/login –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Å—ñ—ó
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 200 OK —Ç–∞ redirect –Ω–∞ –≥–æ–ª–æ–≤–Ω—É
```

**test_login_wrong_password**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å
# –ú–µ—Ç–∞: –ë–µ–∑–ø–µ–∫–∞ - –Ω–µ —Ä–æ–∑–∫—Ä–∏–≤–∞—Ç–∏ —á–∏ username —ñ—Å–Ω—É—î
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ó–∞–≥–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "Invalid credentials"
```

**test_protected_route_requires_login**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –î–æ—Å—Ç—É–ø –¥–æ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç—É
# –ö—Ä–æ–∫–∏:
# 1. –°–ø—Ä–æ–±–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ /profile –±–µ–∑ –ª–æ–≥—ñ–Ω—É
# –û—á—ñ–∫—É—î—Ç—å—Å—è: Redirect –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ª–æ–≥—ñ–Ω—É (3xx)
```

---

## üóÑÔ∏è –¢–µ—Å—Ç–∏ –ú–æ–¥–µ–ª–µ–π (test_models.py)

### TestUserModel

**test_create_user_success**
```python
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
# –û—á—ñ–∫—É—î—Ç—å—Å—è: user_id > 0
```

**test_create_user_duplicate**
```python
# –í–∞–∂–ª–∏–≤–∏–π —Ç–µ—Å—Ç: –£–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å username
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î pytest.raises –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–∏–Ω—è—Ç–∫—É
with pytest.raises(Exception):
    models.create_user("duplicate", "pass2")
```

**test_get_user_case_insensitive**
```python
# –°–∫–ª–∞–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π: –†–µ–≥—ñ—Å—Ç—Ä–æ–Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π –ø–æ—à—É–∫
# –°—Ç–≤–æ—Ä—é—î–º–æ: "CamelCase"
# –®—É–∫–∞—î–º–æ: "camelcase"
# –ú–µ—Ç–∞: –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –ø—Ä–∏ –ª–æ–≥—ñ–Ω—ñ
```

**test_verify_password_correct/incorrect**
```python
# –ë–µ–∑–ø–µ–∫–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
# –ú–µ—Ç–∞: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —â–æ bcrypt –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
# –ù–µ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–∞—Ä–æ–ª—ñ —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ!
```

**test_update_user_coins_negative**
```python
# Edge case: –í—ñ–¥'—î–º–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –ü–æ–∫—É–ø–∫–∞, —è–∫–∞ –≤—ñ–¥–Ω—ñ–º–∞—î –º–æ–Ω–µ—Ç–∏
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: 100 - 30 = 70
```

### TestGameResults

**test_save_game_result**
```python
# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π —Ç–µ—Å—Ç: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≥—Ä–∏
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
# 1. –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–æ
# 2. –ú–æ–Ω–µ—Ç–∏ –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω—ñ (100 –æ—á–æ–∫ / 10 = 10 –º–æ–Ω–µ—Ç)
# 3. –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞
```

**test_save_game_result_minimum_coins**
```python
# Edge case: –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –ì—Ä–∞–≤–µ—Ü—å –Ω–∞–±—Ä–∞–≤ 5 –æ—á–æ–∫
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ú—ñ–Ω—ñ–º—É–º 1 –º–æ–Ω–µ—Ç–∞ (–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ 5/10 < 1)
```

### TestShop

**test_purchase_item_success**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –£—Å–ø—ñ—à–Ω–∞ –ø–æ–∫—É–ø–∫–∞
# –ö—Ä–æ–∫–∏:
# 1. –î–æ–¥–∞—î–º–æ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
# 2. –í–∏–∫–æ–Ω—É—î–º–æ –ø–æ–∫—É–ø–∫—É
# 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ: success=True, –º–æ–Ω–µ—Ç–∏ –≤—ñ–¥–Ω—è–ª–∏—Å—å
```

**test_purchase_item_insufficient_coins**
```python
# –°—Ü–µ–Ω–∞—Ä—ñ–π: –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤
# –í–∏–±–∏—Ä–∞—î–º–æ –Ω–∞–π–¥–æ—Ä–æ–∂—á–∏–π —Ç–æ–≤–∞—Ä
# –ù–µ –¥–æ–¥–∞—î–º–æ –º–æ–Ω–µ—Ç–∏
# –û—á—ñ–∫—É—î—Ç—å—Å—è: success=False, error="Not enough coins"
```

**test_purchase_item_duplicate**
```python
# –í–∞–∂–ª–∏–≤–∏–π —Ç–µ—Å—Ç: –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–∏–º –ø–æ–∫—É–ø–∫–∞–º
# –ö—Ä–æ–∫–∏:
# 1. –ö—É–ø—É—î–º–æ —Ç–æ–≤–∞—Ä
# 2. –ù–∞–º–∞–≥–∞—î–º–æ—Å—å –∫—É–ø–∏—Ç–∏ —â–µ —Ä–∞–∑
# –û—á—ñ–∫—É—î—Ç—å—Å—è: success=False, error="Already purchased"
```

---

## üåê API –¢–µ—Å—Ç–∏ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (test_api_user.py)

### TestUserProfileAPI

**test_get_profile_authenticated**
```python
# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ—Ñ—ñ–ª—é
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î: authenticated_client, sample_game_results
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
# - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
# - total_games == 3 (–∑ fixture)
# - total_points == 600 (100+200+300)
# - –í—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç–Ω—ñ
```

**test_get_profile_unauthenticated**
```python
# –ë–µ–∑–ø–µ–∫–∞: –ó–∞—Ö–∏—Å—Ç endpoints
# –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó -> 401 Unauthorized
```

### TestThemeAPI

**test_update_theme_to_dark**
```python
# –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç: –ó–º—ñ–Ω–∞ —Ç–µ–º–∏
# POST /api/v1/user/theme
# Body: {"theme": "dark"}
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
# - success=True
# - theme=='dark' —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
# - –ó–±–µ—Ä–µ–∂–µ–Ω–æ —É –ë–î (–Ω–µ—è–≤–Ω–æ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–ø–∏—Ç–∏)
```

**test_update_theme_invalid**
```python
# –í–∞–ª—ñ–¥–∞—Ü—ñ—è: –ù–µ–≤–∞–ª—ñ–¥–Ω–∞ —Ç–µ–º–∞
# Body: {"theme": "invalid"}
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 400 Bad Request
```

### TestUserStatsAPI

**test_profile_with_multiple_games**
```python
# –°–∫–ª–∞–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑ –∫—ñ–ª—å–∫–æ—Ö —ñ–≥–æ—Ä
# –ö—Ä–æ–∫–∏:
# 1. –ì—Ä–∞—î–º–æ arithmetic (50 –æ—á–æ–∫)
# 2. –ì—Ä–∞—î–º–æ color_rush (150 –æ—á–æ–∫)
# 3. –ì—Ä–∞—î–º–æ sequence_recall (300 –æ—á–æ–∫)
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
# - total_games == 3
# - total_points == 500
# - total_coins_earned > 0
```

**test_profile_coins_accumulation**
```python
# –í–∞–∂–ª–∏–≤–∏–π —Ç–µ—Å—Ç: –ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –º–æ–Ω–µ—Ç
# –î–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª:
# 1. –ó–∞–ø–∞–º'—è—Ç–æ–≤—É—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –±–∞–ª–∞–Ω—Å
# 2. –ì—Ä–∞—î–º–æ –≥—Ä—É (100 –æ—á–æ–∫)
# 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É
# –§–æ—Ä–º—É–ª–∞: coins_earned = max(1, score // 10)
```

---

## üõçÔ∏è API –¢–µ—Å—Ç–∏ –ú–∞–≥–∞–∑–∏–Ω—É (test_api_shop.py)

### TestShopItemsAPI

**test_get_shop_items**
```python
# –ë–∞–∑–æ–≤–∏–π —Ç–µ—Å—Ç: –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∫–æ–∂–Ω–æ–≥–æ item:
# - id, name, price, item_type
# - is_purchased (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)
# - user_coins —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
```

**test_get_shop_items_with_purchases**
```python
# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:
# 1. –û—Ç—Ä–∏–º—É—î–º–æ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
# 2. –ö—É–ø—É—î–º–æ –ø–µ—Ä—à–∏–π —Ç–æ–≤–∞—Ä
# 3. –ó–Ω–æ–≤—É –æ—Ç—Ä–∏–º—É—î–º–æ —Å–ø–∏—Å–æ–∫
# –ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ is_purchased=true –¥–ª—è –∫—É–ø–ª–µ–Ω–æ–≥–æ
```

### TestPurchaseAPI

**test_purchase_item_success**
```python
# –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª –ø–æ–∫—É–ø–∫–∏:
# 1. –î–æ–¥–∞—î–º–æ –º–æ–Ω–µ—Ç–∏ (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø–æ–∫—É–ø–∫–∏)
# 2. –ó–∞–ø–∞–º'—è—Ç–æ–≤—É—î–º–æ initial_coins
# 3. POST /api/v1/shop/purchase/{id}
# 4. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ remaining_coins == initial - price
```

**test_purchase_insufficient_coins**
```python
# Edge case: –°–ø—Ä–æ–±–∞ –∫—É–ø–∏—Ç–∏ –±–µ–∑ –≥—Ä–æ—à–µ–π
# –í–∏–±–∏—Ä–∞—î–º–æ –Ω–∞–π–¥–æ—Ä–æ–∂—á–∏–π —Ç–æ–≤–∞—Ä
# –ù–µ –¥–∞—î–º–æ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 400, success=false, error –º—ñ—Å—Ç–∏—Ç—å "not enough"
```

**test_purchase_nonexistent_item**
```python
# –ë–µ–∑–ø–µ–∫–∞: –ù–µ—ñ—Å–Ω—É—é—á–∏–π —Ç–æ–≤–∞—Ä
# POST /api/v1/shop/purchase/99999
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 400, error="Item not found"
```

### TestShopTransactionsIntegration

**test_purchase_creates_transaction**
```python
# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π:
# 1. –í–∏–∫–æ–Ω—É—î–º–æ –ø–æ–∫—É–ø–∫—É
# 2. GET /api/v1/transactions
# 3. –®—É–∫–∞—î–º–æ transaction_type=='purchase'
# 4. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ amount == -item_price (–Ω–µ–≥–∞—Ç–∏–≤–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è)
```

**test_coins_balance_after_purchase**
```python
# –ö—Ä–∏—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ:
# 1. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ initial_coins = 200
# 2. –ö—É–ø—É—î–º–æ —Ç–æ–≤–∞—Ä
# 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ: actual_coins == 200 - item_price
# –ú–µ—Ç–∞: –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –±–∞–ª–∞–Ω—Å—É —Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
```

---

## üí¨ API –¢–µ—Å—Ç–∏ –í—ñ–¥–≥—É–∫—ñ–≤ (test_api_feedback.py)

### TestFeedbackListAPI

**test_get_empty_feedback**
```python
# –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω: –ü—É—Å—Ç–∞ —Ç–∞–±–ª–∏—Ü—è
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: count==0, feedback==[]
```

**test_get_feedback_with_limit**
```python
# –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è:
# 1. –°—Ç–≤–æ—Ä—é—î–º–æ 10 –≤—ñ–¥–≥—É–∫—ñ–≤
# 2. GET /api/v1/feedback?limit=5
# –û—á—ñ–∫—É—î—Ç—å—Å—è: –ø–æ–≤–µ—Ä–Ω—É—Ç–æ —Ä—ñ–≤–Ω–æ 5
```

### TestFeedbackCRUD

**test_create_feedback**
```python
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–¥–≥—É–∫—É:
# POST /api/v1/feedback
# Body: {"message": "Great app!"}
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
# - status==201 Created
# - success==true
# - feedback_id > 0
```

**test_create_feedback_empty_message**
```python
# –í–∞–ª—ñ–¥–∞—Ü—ñ—è: –ü–æ—Ä–æ–∂–Ω—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
# Body: {"message": ""}
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 400, error="Message cannot be empty"
```

**test_update_own_feedback**
```python
# –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è:
# 1. –°—Ç–≤–æ—Ä—é—î–º–æ –≤—ñ–¥–≥—É–∫ (—á–µ—Ä–µ–∑ fixture)
# 2. PUT /api/v1/feedback/{id}
# 3. Body: {"message": "Updated"}
# 4. GET /api/v1/feedback/{id} –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
# –ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –∑–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ
```

### TestFeedbackPermissions

**test_update_others_feedback_denied**
```python
# –ë–µ–∑–ø–µ–∫–∞: –ó–∞—Ö–∏—Å—Ç —á—É–∂–∏—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
# –ö—Ä–æ–∫–∏:
# 1. –°—Ç–≤–æ—Ä—é—î–º–æ –¥—Ä—É–≥–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (otheruser)
# 2. –°—Ç–≤–æ—Ä—é—î–º–æ –≤—ñ–¥–≥—É–∫ –≤—ñ–¥ –π–æ–≥–æ —ñ–º–µ–Ω—ñ
# 3. –ù–∞–º–∞–≥–∞—î–º–æ—Å—å –æ–Ω–æ–≤–∏—Ç–∏ —è–∫ authenticated_client (testuser)
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 403 Forbidden
```

**test_delete_others_feedback_denied**
```python
# –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ update, –∞–ª–µ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è
# –ú–µ—Ç–∞: –ó–∞—Ö–∏—Å—Ç–∏—Ç–∏ –≤—ñ–¥–≥—É–∫–∏ –≤—ñ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —ñ–Ω—à–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
```

**test_admin_can_delete_any_feedback**
```python
# –ü—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
# 1. –õ–æ–≥—ñ–Ω–∏–º–æ—Å—å —è–∫ admin_user
# 2. –í–∏–¥–∞–ª—è—î–º–æ –≤—ñ–¥–≥—É–∫ testuser
# –û—á—ñ–∫—É—î—Ç—å—Å—è: 200 OK (–∞–¥–º—ñ–Ω –º–∞—î –ø–æ–≤–Ω—ñ –ø—Ä–∞–≤–∞)
```

---

## üîó Integration –¢–µ—Å—Ç–∏ (test_integration.py)

### TestCompleteUserJourney

**test_user_registration_to_game_purchase**
```python
# –ù–∞–π–±—ñ–ª—å—à –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π —Ç–µ—Å—Ç —É –ø—Ä–æ—î–∫—Ç—ñ!
# –ü–æ–≤–Ω–∏–π —à–ª—è—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:

# 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
client.post('/auth/register', {...})

# 2. –õ–æ–≥—ñ–Ω
client.post('/auth/login', {...})

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å—É (100 –º–æ–Ω–µ—Ç)
initial_coins = profile_data['coins']

# 4. –ì—Ä–∞ —ñ –∑–∞—Ä–æ–±—ñ—Ç–æ–∫
save_game_result(..., score=500)  # 500/10 = 50 –º–æ–Ω–µ—Ç

# 5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è (100 + 50 = 150)
assert profile['coins'] == 150

# 6. –ü–æ–∫—É–ø–∫–∞ —É –º–∞–≥–∞–∑–∏–Ω—ñ
purchase_item(affordable_item)

# 7. –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å—É
assert final_coins == 150 - item_price

# –ú–µ—Ç–∞: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–µ—Å—å workflow –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
```

**test_game_statistics_accumulation**
```python
# –ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
# 1. –ì—Ä–∞—î–º–æ arithmetic 3 —Ä–∞–∑–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ score
# 2. –ì—Ä–∞—î–º–æ color_rush 2 —Ä–∞–∑–∏
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
# - total_games == 5
# - –°–ø–∏—Å–æ–∫ —ñ–≥–æ—Ä –º—ñ—Å—Ç–∏—Ç—å –æ–±–∏–¥–≤—ñ
# - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ arithmetic –º–∞—î 3 –∑–∞–ø–∏—Å–∏
```

### TestDataConsistency

**test_transaction_history_matches_balance**
```python
# –ö–†–ò–¢–ò–ß–ù–ò–ô —Ç–µ—Å—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ –ë–î
# –°–∫–ª–∞–¥–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

# 1. –ó–∞–ø–∞–º'—è—Ç–æ–≤—É—î–º–æ initial_balance
initial_balance = get_user_coins()

# 2. –í–∏–∫–æ–Ω—É—î–º–æ —Ä—ñ–∑–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:
# - –ì—Ä–∞ (+10 –º–æ–Ω–µ—Ç)
# - –†—É—á–Ω–µ –Ω–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è (+50)
# - –ü–æ–∫—É–ø–∫–∞ (-item_price)

# 3. –û—Ç—Ä–∏–º—É—î–º–æ –≤—Å—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
transactions = get_transactions()

# 4. –ü—ñ–¥—Ä–∞—Ö–æ–≤—É—î–º–æ –±–∞–ª–∞–Ω—Å –∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π:
calculated = initial_balance
for t in transactions:
    calculated += t['amount']

# 5. –ü–æ—Ä—ñ–≤–Ω—é—î–º–æ –∑ —Ä–µ–∞–ª—å–Ω–∏–º –±–∞–ª–∞–Ω—Å–æ–º
actual = get_user_coins()
assert calculated == actual

# –ú–µ—Ç–∞: –ì–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ —â–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó —Ç–∞ –±–∞–ª–∞–Ω—Å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ
# –Ø–∫—â–æ —Ç–µ—Å—Ç –ø–∞–¥–∞—î -> —î –±–∞–≥ —É –ª–æ–≥—ñ—Ü—ñ –Ω–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è/—Å–ø–∏—Å–∞–Ω–Ω—è
```

**test_purchase_updates_all_related_data**
```python
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –ø–æ–∫—É–ø—Ü—ñ:
# –û–¥–Ω–∞ –ø–æ–∫—É–ø–∫–∞ –º–∞—î –æ–Ω–æ–≤–∏—Ç–∏:
# 1. –ë–∞–ª–∞–Ω—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (user.coins)
# 2. –Ü—Å—Ç–æ—Ä—ñ—é –ø–æ–∫—É–ø–æ–∫ (user_purchases)
# 3. –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (transactions)
# 4. –ü—Ä–∞–ø–æ—Ä–µ—Ü—å is_purchased —É —Å–ø–∏—Å–∫—É —Ç–æ–≤–∞—Ä—ñ–≤

# –ö—Ä–æ–∫–∏:
purchase_item(item_id)

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:
assert profile['coins'] == old_coins - price  # ‚úì –ë–∞–ª–∞–Ω—Å
assert item in purchases                      # ‚úì –Ü—Å—Ç–æ—Ä—ñ—è
assert purchase_transaction exists            # ‚úì –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è
assert item['is_purchased'] == true           # ‚úì –ü—Ä–∞–ø–æ—Ä–µ—Ü—å

# –Ø–∫—â–æ —Ö–æ—á–∞ –± –æ–¥–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞–¥–∞—î -> –Ω–µ–ø–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –¢–µ—Å—Ç—ñ–≤

### –ë–∞–∑–æ–≤–∏–π –∑–∞–ø—É—Å–∫
```bash
pytest
```

### –ó –ø–æ–∫—Ä–∏—Ç—Ç—è–º
```bash
pytest --cov=app --cov-report=html
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–∞–π–ª
```bash
pytest tests/test_auth.py
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç
```bash
pytest tests/test_auth.py::TestAuthRoutes::test_login_success
```

### –ó –¥–µ—Ç–∞–ª—å–Ω–∏–º –≤–∏–≤–æ–¥–æ–º
```bash
pytest -v
```

### –ó –≤–∏–≤–æ–¥–æ–º print
```bash
pytest -s
```

### –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ (—à–≤–∏–¥—à–µ)
```bash
pytest -n auto
```

---

## üìä –ü–æ–∫—Ä–∏—Ç—Ç—è –ö–æ–¥—É

–ü–æ—Ç–æ—á–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è: **76%**

### –ù–∞–π–∫—Ä–∞—â–µ –ø–æ–∫—Ä–∏—Ç—Ç—è:
- `app/__init__.py` - 100%
- `app/models/user_obj.py` - 100%
- `app/routes/auth.py` - 100%
- `app/routes/main.py` - 100%
- `app/db/models.py` - 99.45%

### –ü–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- `app/routes/admin.py` - 43.14%
- `app/routes/feedback.py` - 30%
- `app/routes/tapping_memory.py` - 33.33%

---

## üéØ Best Practices

### 1. –Ü–∑–æ–ª—è—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤
–ö–æ–∂–µ–Ω —Ç–µ—Å—Ç –º–∞—î –±—É—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `reset_db` fixture.

### 2. –û–ø–∏—Å–æ–≤—ñ –Ω–∞–∑–≤–∏
```python
# ‚ùå –ü–æ–≥–∞–Ω–æ
def test_user():
    ...

# ‚úì –î–æ–±—Ä–µ
def test_create_user_with_valid_credentials():
    ...
```

### 3. AAA Pattern
```python
def test_example():
    # Arrange (–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞)
    user = create_test_user()
    
    # Act (–î—ñ—è)
    result = login(user)
    
    # Assert (–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞)
    assert result.success
```

### 4. Fixture –ø–µ—Ä–µ–≤–∞–≥–∏
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ fixtures –∑–∞–º—ñ—Å—Ç—å –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É:
```python
# ‚ùå –ü–æ–≥–∞–Ω–æ
def test_a():
    user_id = models.create_user("test", "pass")
    ...

def test_b():
    user_id = models.create_user("test", "pass")
    ...

# ‚úì –î–æ–±—Ä–µ
def test_a(test_user):
    user_id = test_user["id"]
    ...
```

### 5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–º–∏–ª–æ–∫
```python
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ pytest.raises –¥–ª—è –≤–∏–Ω—è—Ç–∫—ñ–≤
with pytest.raises(ValueError):
    invalid_operation()
```
