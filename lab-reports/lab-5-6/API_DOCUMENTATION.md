# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è BrainRush API

## –û–≥–ª—è–¥

BrainRush API –Ω–∞–¥–∞—î RESTful —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏—Ö –º—ñ–Ω—ñ-—ñ–≥–æ—Ä.

**–ë–∞–∑–æ–≤–∞ URL:** `http://localhost:5000/api/v1`

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:** –ü–æ—Ç—Ä—ñ–±–Ω–∞ Flask-Login —Å–µ—Å—ñ—è (—á–µ—Ä–µ–∑ cookie)

## Endpoints

### üë§ Endpoints –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

#### GET /user/profile
–û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "id": 1,
  "username": "user123",
  "role": "user",
  "coins": 150,
  "theme": "light",
  "total_games": 25,
  "total_points": 1250,
  "total_coins_earned": 125,
  "created_at": "2025-01-15T10:30:00"
}
```

#### GET /user/{user_id}
–û—Ç—Ä–∏–º–∞—Ç–∏ –ø—É–±–ª—ñ—á–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `user_id` (—à–ª—è—Ö) - ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "id": 1,
  "username": "user123",
  "total_games": 25,
  "total_points": 1250,
  "created_at": "2025-01-15T10:30:00"
}
```

#### POST /user/theme
–û–Ω–æ–≤–∏—Ç–∏ —Ç–µ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É:**
```json
{
  "theme": "dark"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "theme": "dark"
}
```

---

### üõçÔ∏è Endpoints –ú–∞–≥–∞–∑–∏–Ω—É

#### GET /shop/items
–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏ –º–∞–≥–∞–∑–∏–Ω—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "items": [
    {
      "id": 1,
      "item_type": "game",
      "name": "Color Rush",
      "description": "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤",
      "price": 50,
      "is_purchased": false,
      "created_at": "2025-01-15T10:30:00"
    }
  ],
  "user_coins": 150
}
```

#### GET /shop/item/{item_id}
–û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–æ–≤–∞—Ä

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `item_id` (—à–ª—è—Ö) - ID —Ç–æ–≤–∞—Ä—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "id": 1,
  "item_type": "game",
  "name": "Color Rush",
  "description": "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤",
  "price": 50,
  "is_active": 1,
  "created_at": "2025-01-15T10:30:00"
}
```

#### POST /shop/purchase/{item_id}
–ö—É–ø–∏—Ç–∏ —Ç–æ–≤–∞—Ä

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `item_id` (—à–ª—è—Ö) - ID —Ç–æ–≤–∞—Ä—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (–£—Å–ø—ñ—Ö):**
```json
{
  "success": true,
  "message": "–ü–æ–∫—É–ø–∫–∞ —É—Å–ø—ñ—à–Ω–∞",
  "remaining_coins": 100
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (–ü–æ–º–∏–ª–∫–∞):**
```json
{
  "success": false,
  "error": "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç"
}
```

#### GET /shop/purchases
–û—Ç—Ä–∏–º–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –ø–æ–∫—É–ø–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "purchases": [
    {
      "id": 1,
      "name": "Color Rush",
      "item_type": "game",
      "price": 50
    }
  ]
}
```

---

### üí¨ Endpoints –í—ñ–¥–≥—É–∫—ñ–≤

#### GET /feedback
–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤—ñ–¥–≥—É–∫–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É:**
- `limit` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–≥—É–∫—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 50)

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "feedback": [
    {
      "id": 1,
      "user_id": 1,
      "name": "user123",
      "email": "",
      "message": "–ß—É–¥–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫!",
      "created_at": "2025-01-15T10:30:00",
      "updated_at": null
    }
  ],
  "count": 1
}
```

#### GET /feedback/{feedback_id}
–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –≤—ñ–¥–≥—É–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `feedback_id` (—à–ª—è—Ö) - ID –≤—ñ–¥–≥—É–∫—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "id": 1,
  "user_id": 1,
  "name": "user123",
  "email": "",
  "message": "–ß—É–¥–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫!",
  "created_at": "2025-01-15T10:30:00",
  "updated_at": null
}
```

#### POST /feedback
–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –≤—ñ–¥–≥—É–∫

**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É:**
```json
{
  "message": "–ß—É–¥–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫! –ü–æ–¥–æ–±–∞—é—Ç—å—Å—è —ñ–≥—Ä–∏."
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "feedback_id": 1,
  "message": "–í—ñ–¥–≥—É–∫ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ"
}
```

#### PUT /feedback/{feedback_id}
–û–Ω–æ–≤–∏—Ç–∏ –≤—ñ–¥–≥—É–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `feedback_id` (—à–ª—è—Ö) - ID –≤—ñ–¥–≥—É–∫—É

**–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É:**
```json
{
  "message": "–û–Ω–æ–≤–ª–µ–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–≥—É–∫—É"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "–í—ñ–¥–≥—É–∫ —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ"
}
```

#### DELETE /feedback/{feedback_id}
–í–∏–¥–∞–ª–∏—Ç–∏ –≤—ñ–¥–≥—É–∫

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `feedback_id` (—à–ª—è—Ö) - ID –≤—ñ–¥–≥—É–∫—É

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "–í—ñ–¥–≥—É–∫ —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ"
}
```

---

### üìä Endpoints –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ü–≥–æ—Ä

#### GET /stats/games
–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —ñ–≥–æ—Ä, –≤ —è–∫—ñ –≥—Ä–∞–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "games": ["arithmetic", "color_rush", "sequence_recall"]
}
```

#### GET /stats/game/{game_name}
–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≥—Ä—ñ

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `game_name` (—à–ª—è—Ö) - –ù–∞–∑–≤–∞ –≥—Ä–∏

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "game": "arithmetic",
  "stats": [
    {
      "level": "easy",
      "rounds": 10,
      "rounds_played": 5,
      "total_score": 250,
      "avg_time": 45.5,
      "total_coins": 25
    }
  ]
}
```

#### GET /transactions
–û—Ç—Ä–∏–º–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É:**
- `limit` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 50)

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "transactions": [
    {
      "id": 1,
      "amount": 25,
      "transaction_type": "game_reward",
      "description": "–ó–∞—Ä–æ–±–ª–µ–Ω–æ –≤ arithmetic",
      "created_at": "2025-01-15T10:30:00"
    },
    {
      "id": 2,
      "amount": -50,
      "transaction_type": "purchase",
      "description": "–ö—É–ø–ª–µ–Ω–æ Color Rush",
      "created_at": "2025-01-15T11:00:00"
    }
  ],
  "count": 2
}
```

---

## –ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

| –ö–æ–¥ | –û–ø–∏—Å |
|-----|------|
| 200 | OK - –ó–∞–ø–∏—Ç –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ |
| 201 | Created - –†–µ—Å—É—Ä—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ |
| 400 | Bad Request - –ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Ç—É |
| 401 | Unauthorized - –ü–æ—Ç—Ä—ñ–±–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è |
| 403 | Forbidden - –î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ |
| 404 | Not Found - –†–µ—Å—É—Ä—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ |
| 500 | Internal Server Error - –í–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

---

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Python (requests)
```python
import requests

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
session = requests.Session()
session.post('http://localhost:5000/auth/login', data={
    'username': 'user123',
    'password': 'password'
})

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é
response = session.get('http://localhost:5000/api/v1/user/profile')
print(response.json())

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–¥–≥—É–∫—É
response = session.post('http://localhost:5000/api/v1/feedback', json={
    'message': '–ß—É–¥–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫!'
})
print(response.json())
```

### JavaScript (fetch)
```javascript
// –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –º–∞–≥–∞–∑–∏–Ω—É
fetch('/api/v1/shop/items')
  .then(response => response.json())
  .then(data => console.log(data));

// –ü–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä—É
fetch('/api/v1/shop/purchase/1', {
  method: 'POST'
})
  .then(response => response.json())
  .then(data => console.log(data));
```

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

### –ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –≤–±—É–¥–æ–≤–∞–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `http://localhost:5000/api-test` –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö endpoints

### –ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Postman
–Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ –∫–æ–ª–µ–∫—Ü—ñ—é –∑ —Ñ–∞–π–ª—É `BrainRush_API.postman_collection.json`

### –ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º curl
```bash
# –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
curl -X GET http://localhost:5000/api/v1/user/profile/...

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–≥—É–∫
curl -X POST http://localhost:5000/api/v1/feedback/...
```