{% extends "base.html" %}
{% block title %}Tapping Memory â€” BrainRush{% endblock %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/games/tapping_memory.css') }}">
{% endblock %}

{% block content %}
<section class="game-section game-container card">
    <h1>ðŸ”² Tapping Memory</h1>

    <div id="setup-area" class="setup-area">
        <div class="controls-vertical">
            <label class="center-label">
                <div class="level-caption">Level</div>
                <select id="level-select" class="level-select">
                    <option value="easy">easy</option>
                    <option value="medium">medium</option>
                    <option value="hard">hard</option>
                </select>
            </label>

            <div class="start-wrap">
                <button id="start-btn" class="btn primary large">Start</button>
            </div>
        </div>
        <p class="muted">Watch the pattern on the grid and repeat it by tapping cells.</p>
    </div>

    <div id="game-area" class="game-area" style="display:none">
        <div class="status-row">
            <div>Score: <strong id="score">0</strong></div>
            <div>Length: <strong id="current-length">0</strong></div>
            <div>Time left: <strong id="time-left">0</strong>s</div>
        </div>

        <div class="grid-wrapper card">
            <div id="instruction-text" class="instruction-text muted">Instruction will appear here</div>
            <div id="grid-container" class="grid-container"></div>
        </div>

        <div id="action-area" class="action-area" style="display:none">
            <button id="submit-btn" class="btn primary">Submit</button>
            <button id="restart-btn" class="btn secondary">Restart</button>
        </div>
        <div id="feedback" class="feedback"></div>
    </div>

    <div id="result-area" class="result-area" style="display:none">
        <h3>Result</h3>
        <p>Score: <strong id="final-score">0</strong></p>
        <p>Final length: <strong id="final-length">0</strong></p>

        <div class="result-choices" style="margin-top:12px; display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap;">
            <label style="display:flex;flex-direction:column;align-items:center; gap:6px;">
                <div class="level-caption">Play again â€” Level</div>
                <select id="result-level-select" class="level-select" style="min-width:140px;">
                    <option value="easy">easy</option>
                    <option value="medium">medium</option>
                    <option value="hard">hard</option>
                </select>
            </label>

            <div style="display:flex; gap:8px;">
                <button id="play-again-btn" class="btn primary">Start</button>
                <a href="/games" class="btn secondary">Back</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/tapping_memory.js') }}"></script>
{% endblock %}
